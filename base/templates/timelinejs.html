{% extends "timeline.html" %}
{% load static  %}

{% block title %}TimelineJS{% endblock %}
{% block content %}
<!-- 1 -->
        <link title="timeline-styles" rel="stylesheet"
              href="/static/css/timeline.css">

        <!-- 2 -->
        <script src="/static/js/timeline.js"></script>

        <div id='timeline-embed' style="width: 100%; height: 600px"></div>
        <script type="text/javascript">

            async function getJson(){
                const response = await fetch('/govbr');
                const data = await response.json();
                console.log(data);
                return data;
            }
            async function main(){
                const json = await getJson();
                window.timeline = new TL.Timeline('timeline-embed', json);
            }

            main()
        </script>

{% endblock %}
